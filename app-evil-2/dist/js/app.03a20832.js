(function(t){function e(e){for(var a,s,o=e[0],l=e[1],c=e[2],u=0,v=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&v.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},i={app:0},n=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/app-evil-2/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},3562:function(t,e,r){"use strict";var a=r("fad4"),i=r.n(a);i.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",[r("v-subheader",[t._v("MENU")]),r("v-list-item-group",{attrs:{color:"primary"}},[t._l(t.links,(function(e){return r("v-list-item",{key:e.title,attrs:{to:e.url}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),t.isUserLoggetIn?r("v-list-item",{on:{click:t.onLogout}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-exit-to-app")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s("Logout")}})],1)],1):t._e()],2)],1)],1),r("v-app-bar",{attrs:{app:"",color:"blue"}},[r("v-toolbar",{attrs:{color:"blue",dark:"",flat:""}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("Looking for Evils")])],1),r("v-spacer"),t._l(t.links,(function(e){return r("v-btn",{key:e.title,staticClass:"hidden-sm-and-down",attrs:{large:"",tile:"",text:"",to:e.url}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.title)+" ")],1)})),t.isUserLoggetIn?r("v-btn",{staticClass:"hidden-sm-and-down",attrs:{large:"",tile:"",text:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-exit-to-app")]),t._v(" Logout ")],1):t._e()],2)],1),r("div",{staticClass:"info"},[t._v("NOT FINAL VERSION")]),r("v-main",[r("router-view")],1),r("v-snackbar",{attrs:{timeout:"5000","multi-line":t.multiLine},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[r("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){t.snackbar=!1}},nativeOn:{click:function(e){return t.closeError(e)}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.error)+" ")])],1)},n=[],s={data:function(){return{drawer:!1,snackbar:!1,multiLine:!0}},computed:{error:function(){return this.showSError(),this.$store.getters.error},isUserLoggetIn:function(){return this.$store.getters.isUserLoggetIn},links:function(){return this.isUserLoggetIn?[{title:"Orders",icon:"mdi-timeline-check-outline",url:"/orders"},{title:"New Evil",icon:"mdi-flask-empty-plus-outline",url:"/new"},{title:"My Evil",icon:"mdi-cat",url:"/list"}]:[{title:"Login",icon:"mdi-lock",url:"/login"},{title:"Registation",icon:"mdi-account-plus-outline",url:"/registration"}]}},methods:{closeError:function(){this.$store.dispatch("clearError")},showSError:function(){this.$store.getters.error&&(this.snackbar=!0)},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}}},o=s,l=(r("ff01"),r("2877")),c=r("6544"),d=r.n(c),u=r("7496"),v=r("40dc"),p=r("5bc1"),m=r("8336"),f=r("132d"),g=r("8860"),h=r("da13"),b=r("5d23"),x=r("1baa"),w=r("34c3"),V=r("f6c4"),y=r("f774"),_=r("2db4"),k=r("2fa4"),C=r("e0c7"),E=r("71d9"),L=r("2a7f"),S=Object(l["a"])(o,i,n,!1,null,"685bb808",null),I=S.exports;d()(S,{VApp:u["a"],VAppBar:v["a"],VAppBarNavIcon:p["a"],VBtn:m["a"],VIcon:f["a"],VList:g["a"],VListItem:h["a"],VListItemContent:b["a"],VListItemGroup:x["a"],VListItemIcon:w["a"],VListItemTitle:b["c"],VMain:V["a"],VNavigationDrawer:y["a"],VSnackbar:_["a"],VSpacer:k["a"],VSubheader:C["a"],VToolbar:E["a"],VToolbarTitle:L["a"]});var T=r("8c4f"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",[r("v-container",[r("v-layout",[r("v-flex",{staticClass:"grid-loading"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"red",size:"80"}})],1)],1)],1)],1):r("div",[r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-carousel",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.promos,(function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imageSrc}},[r("div",{staticClass:"carousel-link"},[r("v-btn",{staticClass:"error",attrs:{to:"/evil/"+e.id}},[t._v(t._s(e.title))])],1)])})),1)],1)],1)],1),r("v-container",{attrs:{"grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.evils,(function(e){return r("v-flex",{key:e.id,attrs:{xs14:"",sm6:"",md4:""}},[r("v-card",{staticClass:"mx-auto mb-4",attrs:{"max-width":"400"}},[r("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:e.imageSrc}},[r("v-card-title",[t._v(t._s(e.title))])],1),r("v-card-subtitle",{staticClass:"pb-0"},[t._v(" "+t._s(e.subtitle)+" ")]),r("v-card-text",{staticClass:"text--primary"},[r("div",[t._v(t._s(e.description))])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{depressed:"",to:"/evil/"+e.id}},[t._v(" More info ")]),r("app-join-modal",{attrs:{evil:e}})],1)],1)],1)})),1)],1)],1)},$=[],j={props:["evil"],computed:{promos:function(){return this.$store.getters.promos},evils:function(){return this.$store.getters.evils},loading:function(){return this.$store.getters.loading}},data:function(){return{model:0}}},R=j,P=(r("3562"),r("b0af")),U=r("99d9"),A=r("5e66"),D=r("3e35"),F=r("a523"),q=r("0e8f"),B=r("adda"),M=r("a722"),N=r("490a"),z=Object(l["a"])(R,O,$,!1,null,null,null),J=z.exports;d()(z,{VBtn:m["a"],VCard:P["a"],VCardActions:U["a"],VCardSubtitle:U["b"],VCardText:U["c"],VCardTitle:U["d"],VCarousel:A["a"],VCarouselItem:D["a"],VContainer:F["a"],VFlex:q["a"],VImg:B["a"],VLayout:M["a"],VProgressCircular:N["a"],VSpacer:k["a"]});var Y=r("2f62"),G=(r("a4d3"),r("e01a"),r("99af"),r("4de4"),r("7db0"),r("4160"),r("baa5"),r("fb6a"),r("b0c0"),r("b64b"),r("159b"),r("5530")),H=(r("96cf"),r("1da1")),K=r("d4ec"),Q=r("8aa5"),W=function t(e,r,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(K["a"])(this,t),this.title=e,this.description=r,this.ownerId=a,this.imageSrc=i,this.promo=n,this.id=s},X={state:{evils:[]},mutations:{newEvil:function(t,e){t.evils.push(e)},loadEvils:function(t,e){t.evils=e},updateEvil:function(t,e){var r=e.title,a=e.description,i=e.id,n=t.evils.find((function(t){return t.id===i}));n.title=r,n.description=a}},actions:{newEvil:function(t,e){return Object(H["a"])(regeneratorRuntime.mark((function r(){var a,i,n,s,o,l,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,i=t.getters,a("clearError"),a("setLoading",!0),n=e.image,r.prev=4,s=new W(e.title,e.description,i.user.id,"",e.promo),r.next=8,Q["database"]().ref("evils").push(s);case 8:return o=r.sent,l=n.name.slice(n.name.lastIndexOf(".")),r.next=12,Q["storage"]().ref("evils/".concat(o.key).concat(l)).put(n);case 12:return r.next=14,Q["storage"]().ref("evils/".concat(o.key).concat(l)).getDownloadURL();case 14:return c=r.sent,r.next=17,Q["database"]().ref("evils").child(o.key).update({imageSrc:c});case 17:a("setLoading",!1),a("newEvil",Object(G["a"])(Object(G["a"])({},s),{},{id:o.key,imageSrc:c})),r.next=26;break;case 21:throw r.prev=21,r.t0=r["catch"](4),a("setError",r.t0.message),a("setLoading",!1),r.t0;case 26:case"end":return r.stop()}}),r,null,[[4,21]])})))()},fetchEvils:function(t){return Object(H["a"])(regeneratorRuntime.mark((function e(){var r,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("clearError"),r("setLoading",!0),a=[],e.prev=4,e.next=7,Q["database"]().ref("evils").once("value");case 7:i=e.sent,n=i.val(),Object.keys(n).forEach((function(t){var e=n[t];a.push(new W(e.title,e.description,e.ownerId,e.imageSrc,e.promo,t))})),r("loadEvils",a),r("setLoading",!1),e.next=19;break;case 14:throw e.prev=14,e.t0=e["catch"](4),r("setError"),r("setLoading",!1),e.t0;case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))()},updatedEvil:function(t,e){return Object(H["a"])(regeneratorRuntime.mark((function r(){var a,i,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,i=e.title,n=e.description,s=e.id,a("clearError"),a("setLoading",!0),r.prev=4,r.next=7,Q["database"]().ref("evils").child(s).update({title:i,description:n});case 7:a("updateEvil",{title:i,description:n,id:s}),a("setLoading",!1),r.next=16;break;case 11:throw r.prev=11,r.t0=r["catch"](4),a("setError",r.t0.message),a("setLoading",!1),r.t0;case 16:case"end":return r.stop()}}),r,null,[[4,11]])})))()}},getters:{evils:function(t){return t.evils},promos:function(t){return t.evils.filter((function(t){return t.promo}))},myEvils:function(t,e){return t.evils.filter((function(t){return t.ownerId===e.user.id}))},evilById:function(t){return function(e){return t.evils.find((function(t){return t.id===e}))}}}},Z=function t(e){Object(K["a"])(this,t),this.id=e},tt={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(t,e){return Object(H["a"])(regeneratorRuntime.mark((function r(){var a,i,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,i=e.email,n=e.password,a("clearError"),a("setLoading",!0),r.prev=4,r.next=7,Q["auth"]().createUserWithEmailAndPassword(i,n);case 7:s=r.sent,a("setUser",new Z(s.uid)),a("setLoading",!1),r.next=17;break;case 12:throw r.prev=12,r.t0=r["catch"](4),a("setLoading",!1),a("setError",r.t0.message),r.t0;case 17:case"end":return r.stop()}}),r,null,[[4,12]])})))()},loginUser:function(t,e){return Object(H["a"])(regeneratorRuntime.mark((function r(){var a,i,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.commit,i=e.email,n=e.password,a("clearError"),a("setLoading",!0),r.prev=4,r.next=7,Q["auth"]().signInWithEmailAndPassword(i,n);case 7:s=r.sent,a("setUser",new Z(s.uid)),a("setLoading",!1),r.next=17;break;case 12:throw r.prev=12,r.t0=r["catch"](4),a("setLoading",!1),a("setError",r.t0.message),r.t0;case 17:case"end":return r.stop()}}),r,null,[[4,12]])})))()},autoLoginUser:function(t,e){var r=t.commit;r("setUser",new Z(e.uid))},logoutUser:function(t){var e=t.commit;Q["auth"]().signOut(),e("setUser",null)}},getters:{user:function(t){return t.user},isUserLoggetIn:function(t){return null!==t.user}}},et={state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},rt=(r("d3b7"),{state:{oreders:[]},matations:{createOrder:function(t,e){t.oreders.push(e)}},actions:{createOrder:function(){return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,e){setTimeout((function(){t(),console.log(e)}),3e3)}));case 2:case"end":return t.stop()}}),t)})))()}},getters:{}});a["a"].use(Y["a"]);var at=new Y["a"].Store({modules:{evils:X,user:tt,shared:et,orders:rt}}),it=function(t,e,r){at.getters.user?r():r("/login?loginError=true")},nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm:"",10:""}},[t.loading?r("div",{staticClass:"text-xs-center"},[r("v-flex",{staticClass:"grid-loading"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"red",size:"80"}})],1)],1):r("v-card",[r("v-img",{attrs:{src:t.evil.imageSrc,height:"500"}}),r("v-card-text",[r("h1",{staticClass:"text--primary"},[t._v(t._s(t.evil.title))]),r("p",[t._v(t._s(t.evil.description)+" ")])]),r("v-card-actions",[r("v-spacer"),t.isOwner?r("add-Edit-Modal",{attrs:{evil:t.evil}}):t._e(),r("app-join-modal",{attrs:{evil:t.evil}})],1)],1)],1)],1)],1)},st=[],ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{scrollable:"",persistent:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{color:"warning",depressed:""}},a),[t._v("Edit")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline orange lighten-2 mb-2"},[t._v(" Edit Evil ")]),r("v-card-text",[r("v-text-field",{attrs:{name:"title",label:"Evil title",type:"text",rules:[function(t){return!!t||"Title is required"}]},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),r("v-textarea",{attrs:{name:"description",label:"Evil description",type:"text",rules:[function(t){return!!t||"Description is required"}],"multi-line":""},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{depressed:""},on:{click:t.onCancel}},[t._v(" Cancel ")]),r("v-btn",{attrs:{color:"success"},on:{click:t.onSave}},[t._v(" Save ")])],1)],1)],1)},lt=[],ct={props:["evil"],data:function(){return{dialog:!1,editedTitle:this.evil.title,editedDescription:this.evil.description}},methods:{onCancel:function(){this.editedTitle=this.evil.title,this.editedDescription=this.evil.description,this.dialog=!1},onSave:function(){""!==this.editedTitle&&""!==this.editedDescription&&this.$store.dispatch("updatedEvil",{title:this.editedTitle,description:this.editedDescription,id:this.evil.id}),this.dialog=!1}}},dt=ct,ut=r("169a"),vt=r("ce7e"),pt=r("8654"),mt=r("a844"),ft=Object(l["a"])(dt,ot,lt,!1,null,null,null),gt=ft.exports;d()(ft,{VBtn:m["a"],VCard:P["a"],VCardActions:U["a"],VCardText:U["c"],VCardTitle:U["d"],VDialog:ut["a"],VDivider:vt["a"],VSpacer:k["a"],VTextField:pt["a"],VTextarea:mt["a"]});var ht={props:["id"],computed:{evil:function(){var t=this.id;return this.$store.getters.evilById(t)},loading:function(){return this.$store.getters.loading},isOwner:function(){return this.evil.ownerId===this.$store.getters.user.id}},components:{addEditModal:gt}},bt=ht,xt=Object(l["a"])(bt,nt,st,!1,null,null,null),wt=xt.exports;d()(xt,{VCard:P["a"],VCardActions:U["a"],VCardText:U["c"],VContainer:F["a"],VFlex:q["a"],VImg:B["a"],VLayout:M["a"],VProgressCircular:N["a"],VSpacer:k["a"]});var Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-2"},[t.loading||0===t.myEvils.length?t.loading||0!==t.myEvils.length?r("div",{staticClass:"text-xs-center"},[r("v-flex",{staticClass:"grid-loading"},[r("v-progress-circular",{attrs:{indeterminate:"",color:"red",size:"80"}})],1)],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("h1",{staticClass:"text--primary"},[t._v("You have no ads")])])],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs11:"",sm9:"","offset-sm2":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("List of evil")]),t._l(t.myEvils,(function(e){return r("v-card",{key:e.id,staticClass:"elevation-10 mb-4",attrs:{tile:"","z-index":"12"}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs4:""}},[r("v-img",{staticClass:"ml-3",attrs:{"max-height":"170","max-width":"260",src:e.imageSrc}})],1),r("v-flex",{attrs:{xs8:""}},[r("v-card-text",[r("h1",{staticClass:"text--primary"},[t._v(t._s(e.title))]),r("p",[t._v(t._s(e.description))])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{color:"info",to:"/evil/"+e.id}},[t._v("Open")])],1)],1)],1)],1)}))],2)],1)],1)},yt=[],_t={computed:{myEvils:function(){return this.$store.getters.myEvils},loading:function(){return this.$store.getters.loading}}},kt=_t,Ct=Object(l["a"])(kt,Vt,yt,!1,null,null,null),Et=Ct.exports;d()(Ct,{VBtn:m["a"],VCard:P["a"],VCardActions:U["a"],VCardText:U["c"],VContainer:F["a"],VFlex:q["a"],VImg:B["a"],VLayout:M["a"],VProgressCircular:N["a"],VSpacer:k["a"]});var Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{staticClass:"mr-4 ml-4",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Make new Evil")]),r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{name:"title",label:"Evil title",type:"text",rules:[function(t){return!!t||"Title is required"}]},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{name:"description",label:"Evil description",type:"text",rules:[function(t){return!!t||"Description is required"}],"multi-line":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),r("v-container",{staticClass:"px-0",attrs:{fluid:""}},[r("v-switch",{attrs:{label:"Make with THE GRATEST?"},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1)],1),r("v-layout",{staticClass:"ml-1",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"warning mb-4",on:{click:t.triggerUpload}},[t._v(" Upload photo "),r("v-icon",{attrs:{right:""}},[t._v("mdi-upload")])],1),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1),t.imageSrc?r("img",{attrs:{src:t.imageSrc,height:"100"}}):t._e()],1),r("v-layout",{staticClass:"ml-1 mt-4",attrs:{row:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"primary",attrs:{loading:t.loading,disabled:!t.valid||!t.image||t.loading},on:{click:t.newEvil}},[t._v(" New Evil "),r("v-icon",{attrs:{right:""}},[t._v("mdi-emoticon-devil-outline")])],1)],1)],1)],1)],1)],1)},St=[],It={data:function(){return{title:"",description:"",promo:!1,valid:!1,image:null,imageSrc:""}},computed:{loading:function(){return this.$store.getters.loading}},methods:{newEvil:function(){var t=this;if(this.$refs.form.validate()&&this.image){var e={title:this.title,description:this.description,promo:this.promo,image:this.image};this.$store.dispatch("newEvil",e).then((function(){t.$router.push("/list")})).catch((function(){}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(){e.imageSrc=a.result},a.readAsDataURL(r),this.image=r}}},Tt=It,Ot=r("4bd4"),$t=r("b73d"),jt=Object(l["a"])(Tt,Lt,St,!1,null,null,null),Rt=jt.exports;d()(jt,{VBtn:m["a"],VContainer:F["a"],VFlex:q["a"],VForm:Ot["a"],VIcon:f["a"],VLayout:M["a"],VSwitch:$t["a"],VTextField:pt["a"],VTextarea:mt["a"]});var Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Login form")]),r("v-spacer")],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.validate}},[t._v("Login")])],1)],1)],1)],1)],1)},Ut=[],At={data:function(){return{email:"",password:"",valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{validate:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page.")}},Dt=At,Ft=Object(l["a"])(Dt,Pt,Ut,!1,null,null,null),qt=Ft.exports;d()(Ft,{VBtn:m["a"],VCard:P["a"],VCardActions:U["a"],VCardText:U["c"],VContainer:F["a"],VFlex:q["a"],VForm:Ot["a"],VLayout:M["a"],VSpacer:k["a"],VTextField:pt["a"],VToolbar:E["a"],VToolbarTitle:L["a"]});var Bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("Registration form")]),r("v-spacer")],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-account",name:"email",label:"Email",type:"email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"password",label:"Password",type:"password",counter:6,rules:t.passwordRules,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock",name:"confirm-password",label:"Confirm Password",type:"password",counter:6,rules:t.confirmPasswordRules,required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.validate}},[t._v("Create acc")])],1)],1)],1)],1)],1)},Mt=[],Nt={data:function(){var t=this;return{email:"",password:"",confirmPassword:"",valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}],confirmPasswordRules:[function(t){return!!t||"Password is required"},function(e){return e===t.password||"Password should match"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{validate:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}}},zt=Nt,Jt=Object(l["a"])(zt,Bt,Mt,!1,null,null,null),Yt=Jt.exports;d()(Jt,{VBtn:m["a"],VCard:P["a"],VCardActions:U["a"],VCardText:U["c"],VContainer:F["a"],VFlex:q["a"],VForm:Ot["a"],VLayout:M["a"],VSpacer:k["a"],VTextField:pt["a"],VToolbar:E["a"],VToolbarTitle:L["a"]});var Gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Orders")]),r("v-list",{attrs:{subheader:"","two-line":"",flat:""}},[r("v-list-item-group",{attrs:{multiple:""},model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}},t._l(t.orders,(function(e){return r("v-list-item",{key:e.id},[[r("v-list-item-action",[r("v-checkbox",{attrs:{"input-value":e.done,color:"primary"}})],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v(t._s(e.task))])],1),r("v-list",[r("v-btn",{attrs:{color:"primary",to:"/evil/"+e.evilId}},[t._v("Open")])],1)]],2)})),1)],1)],1)],1)],1)},Ht=[],Kt={data:function(){return{orders:[{id:"11",name:"DR Evil",task:"Buy a LASER SHARKS",evilId:"1",done:!1}]}},methods:{isDone:function(t){t.done=!0}}},Qt=Kt,Wt=r("ac7c"),Xt=r("1800"),Zt=Object(l["a"])(Qt,Gt,Ht,!1,null,null,null),te=Zt.exports;d()(Zt,{VBtn:m["a"],VCheckbox:Wt["a"],VContainer:F["a"],VFlex:q["a"],VLayout:M["a"],VList:g["a"],VListItem:h["a"],VListItemAction:Xt["a"],VListItemContent:b["a"],VListItemGroup:x["a"],VListItemSubtitle:b["b"],VListItemTitle:b["c"]}),a["a"].use(T["a"]);var ee=[{path:"",name:"home",component:J},{path:"/evil/:id",props:!0,name:"evil",component:wt},{path:"/list",name:"list",component:Et,beforeEnter:it},{path:"/new",name:"new",component:Rt,beforeEnter:it},{path:"/login",name:"login",component:qt},{path:"/registration",name:"registration",component:Yt},{path:"/orders",name:"orders",component:te,beforeEnter:it}],re=new T["a"]({routes:ee,mode:"history"}),ae=re,ie=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{scrollable:"",persistent:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{color:"primary ml-2",depressed:""}},a),[t._v("Join now")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline orange lighten-2 mb-2"},[t._v(" Do you realy want to join his army!? ")]),r("v-card-text",[r("v-text-field",{attrs:{name:"name",label:"Your name",type:"text",rules:[function(t){return!!t||"Title is required"}]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-textarea",{attrs:{name:"contact",label:"Your contact",type:"text",rules:[function(t){return!!t||"Description is required"}],"multi-line":""},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{depressed:"",disabled:t.localLoading},on:{click:t.onCancel}},[t._v(" Run away ")]),r("v-btn",{attrs:{color:"success",disabled:t.localLoading,loading:t.localLoading},on:{click:t.onSave}},[t._v(" JOIN HIM! ")])],1)],1)],1)},ne=[],se={props:["evil"],data:function(){return{dialog:!1,name:"",contact:"",localLoading:!1}},methods:{onCancel:function(){this.name="",this.contact="",this.dialog=!1},onSave:function(){var t=this;""!==this.name&&""!==this.contact&&(this.localLoading=!1,this.$store.dispatch("createOrder",{name:this.name,contact:this.contact,evilId:this.evil.id,ownerId:this.ownerId}).finally((function(){t.name="",t.contact="",t.localLoading=!1,t.dialog=!1})))}}},oe=se,le=Object(l["a"])(oe,ie,ne,!1,null,null,null),ce=le.exports;d()(le,{VBtn:m["a"],VCard:P["a"],VCardActions:U["a"],VCardText:U["c"],VCardTitle:U["d"],VDialog:ut["a"],VDivider:vt["a"],VSpacer:k["a"],VTextField:pt["a"],VTextarea:mt["a"]});var de=r("59ca"),ue=r.n(de),ve=(r("ea7b"),r("f309"));a["a"].use(ve["a"]);var pe=new ve["a"]({});a["a"].config.productionTip=!1,a["a"].component("app-join-modal",ce),new a["a"]({router:ae,store:at,vuetify:pe,render:function(t){return t(I)},created:function(){var t=this,e={apiKey:"AIzaSyBMreHyAnUEYTA-mLOeMQYJtiUQe37oyLs",authDomain:"app-of-evil.firebaseapp.com",databaseURL:"https://app-of-evil.firebaseio.com",projectId:"app-of-evil",storageBucket:"app-of-evil.appspot.com",messagingSenderId:"487567609336",appId:"1:487567609336:web:8ef211a2be2a464c915a0d",measurementId:"G-X1Z78TPLD9"};ue.a.initializeApp(e),ue.a.analytics(),ue.a.auth().onAuthStateChanged((function(e){e&&t.$store.dispatch("autoLoginUser",e)})),this.$store.dispatch("fetchEvils")}}).$mount("#app")},5778:function(t,e,r){},fad4:function(t,e,r){},ff01:function(t,e,r){"use strict";var a=r("5778"),i=r.n(a);i.a}});
//# sourceMappingURL=app.03a20832.js.map